Could you clarify if you want the C++ code to be fully functional, including the main function and example usage, or just the conversion of the provided function?